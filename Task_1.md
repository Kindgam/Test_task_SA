# Задание 1: Анализ требований

## Описание:

Вам попал на руки фрагмент технического задания на разработку функционала "Корзина" для интернет-магазина "Петрушка Зеленая". В ТЗ есть несколько логических противоречий, недочетов и неполных мест.

## Раздел ТЗ: Функционал корзины

1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара.  
2. Пользователь может изменить количество каждого товара в корзине не менее, чем до 1-го. Для удаления товара из корзины используется отдельная кнопка.  
3. В корзине может находиться не более 5 различных товаров.  
4. Суммарное количество всех товаров в корзине не может превышать 20 штук.  
5. Товары в корзине могут быть разные.  
6. При попытке добавить товар, превышающий лимиты, система показывает сообщение: "Лимит корзины превышен".  
7. Цена на продукт фиксируется на момент добавления в корзину и не меняется.  
8. На странице корзины отображается список товаров, их количество, цена за единицу и общая стоимость позиции.  
9. Если пользователь уменьшает количество товара до 0, товар удаляется из корзины.  
10. В корзине может быть реклама других продуктов.  
11. Реклама товаров в корзине должна быть каждый будний день по утрам и вечерам.  
13. Если цена на товар изменилась в каталоге, система должна автоматически обновить ее в корзине у всех пользователей.  

---

## Что нужно сделать:

1. Найдите и перечислите все логические противоречия и недочеты в предоставленном ТЗ. Объясните, в чем заключается проблема для каждого пункта.  
2. Предложите конкретные исправления для устранения этих противоречий - напишите свою версию этого фрагмента ТЗ, которая должна быть логически завершенной и непротиворечивой.  
3. Какие уточняющие вопросы вы бы задали продукт-менеджеру или бизнес-заказчику по этому ТЗ?  

---

# Решение

## Найдите и перечислите все логические противоречия и недочеты в предоставленном:

1. Пункты 2 и 9 - противоречие по количеству товара.  

   1.1. В п.2 - указано, что количество товара не может быть меньше 1.  
   1.2. В п.9 - описан сценарий уменьшения количества товара до 0.  

2. Пункты 2 и 9 - разные правила удаления.  

   2.1. В п.2 - удаление товара выполняется отдельной кнопкой.  
   2.2. В п.9 - товар удаляется при уменьшении количества до 0.  

3. Пункты 1, 3 и 4 - противоречие по лимитов.  

   3.1. В п.1 указан лимит максимального количества одного товара в корзине в 10 единиц.  
   3.2. В п.3 указан лимит в 5 разных товаров в корзине.  
   3.3. По условиям пунктов 1 и 3, суммарное количество всех товаров в корзине может достигать 50 единиц, однако п.4 ограничивает общее количество в 20 единиц.  

4. Пункт 5 - не несет требований.  

5. Пункт 7 и 13 - противоречие по цене.  

   5.1. В п.7 - цена фиксируется при добавлении.  
   5.2. В п.13 - цена автоматически обновляется.  

6. Пункт 6 - сообщение “лимит корзины превышен”, не уточняет какой именно лимит превышен.  

7. Пункт 8 - не указано:  

   7.1. Отображается ли итоговая стоимость корзины.  
   7.2. В какой валюте отображаются цены.  
   7.3. Наличие скидок и промокодов.  

8. Пункт 12 - отсутствует. Нарушена нумерация документа.  

9. Пункт 10 и 11 - противоречие показа рекламы.  

   9.1. В п.10 - реклама может отображаться.  
   9.2. В п.11 - реклама должна отображаться.  

---

## Предложите конкретные исправления для устранения этих противоречий - напишите свою версию этого фрагмента ТЗ:

1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара.  

2. Количество товара в корзине может быть изменено пользователем в диапазоне 1–10.  

   2.1. Для удаления товара используется кнопка «Удалить».  

3. Если товар уже присутствует в корзине, то при повторном добавлении:  

   3.1. Количество товара в одной позиции увеличивается.  

4. В корзине может находиться не более 5 различных товаров одновременно.  

5. Суммарное количество всех товаров в корзине не может превышать 50 единиц ( предлагается изменить общий лимит до 50, чтобы он логически соответствовал ограничениям ( 5 разных товаров * 10 шт. каждого)).  

6. При превышении лимитов система:  

   6.1. Отменяет последнее действие.  
   6.2. Показывает сообщение с указанием причины:
      - 6.2.1.“Достигнут лимит количества одного товара (10 шт.)”,  
      - 6.2.2.“Достигнут лимит количества разных товаров (5 шт.)”,  
      - 6.2.3. “Достигнут лимит общего количества товаров (50 шт.)”.  

7. Цена товара фиксируется на момент добавления в корзину и используется при оформлении заказа.  
 
8. Изменение цены в каталоге, не влияет на товары, уже добавленные в корзину.  

9. На странице корзины отображаются:  

   9.1. список товаров,  
   9.2. количество,  
   9.3. цена за единицу,  
   9.4. стоимость позиции,  
   9.5. итоговая стоимость корзины,  
   9.6. скидки.  

10. Суммы в корзине пересчитываются автоматически при изменении количества товаров.  

11. В корзине отображается рекламный блок.  

12. Рекламный блок показывается:  

    12.1. только в будние дни,  
    12.2. с 08:00 до 11:00 и с 18:00 до 21:00,  
    12.3. по часовому поясу пользователя.  

---

## Какие уточняющие вопросы вы бы задали продукт-менеджеру или бизнес-заказчику по этому ТЗ:

1. Про цену:  

   1.1. Фиксируется на момент добавления товара или обновляется автоматически при изменении в каталоге?  
   1.2. Если цена изменилась, получает ли пользователь уведомление?  

2. Наличие товара:  

   2.1. Проверяется ли наличие товара на складе?  
   2.2. Что происходит, если товара нет на складе?  

3. Лимиты:  

   3.1. Какой лимит является приоритетным: общий лимит в 20 единиц товаров или ограничения — не более 10 единиц одного товара и не более 5 разных товаров?  
   3.2. Что происходит при превышении лимита?  

4. Удаление:  

   4.1. Товар можно удалить двумя способами - отдельной кнопкой и уменьшением количества товара до нуля. Какой из этих способов должен быть основным, и нужна ли реализация обоих методов?  

5. Реклама:  

   5.1. Реклама должна быть обязательна или опциональна?  
   5.2. Можно ли скрыть рекламу?  
   5.3. Зависит ли реклама от товаров в корзине?  
   5.4. Необходимо ли ограничивать показ рекламы по времени?Если да, то :  
   - 5.4.1. Что считается утром и вечером?  
   - 5.4.2. Какой часовой пояс?  
   - 5.4.3. Что происходит днем и вечером в будние дни, а также в выходные?

6. Корзина:  

   6.1. Должны ли отображаться общая сумма корзины?  
   6.2. Есть ли скидки/ промокоды?  
   6.3. В какой валюте отображаются цены?   
   6.4. Синхронизируется ли корзина между устройствами?  
   6.5. Корзина доступна без авторизации?  
   6.6. Что происходит при одновременном изменении корзины с двух устройств?
